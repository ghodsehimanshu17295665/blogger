<!DOCTYPE html>
<html>
  <head>
    <title>All Posts</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <h1>All Posts</h1>
      <button class="btn btn-primary mb-3" onclick="window.location.href='{% url 'create_post' %}'">create</button>
                  {% if messages %}
                    {% for message in messages %}
                        {{message}}
                    {% endfor %}
                  {% endif %} 
      <table class="table">
        <thead>
          <tr>
            <th scope="col">S.No.</th>
            <th scope="col">Title</th>
            <th scope="col">Category</th>
            <th scope="col">Update</th>
            <th scope="col">View</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for post in posts %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{ post.title }}</td>
              <td>{{ post.category }}</td>
              <td>
                <a href="{% url 'update_post' post.id %}" class="btn btn-warning">Update</a>
              </td> 
              <td>
                <a href="{% url 'view_post' post.id %}" class="btn btn-primary">View</a>
              </td>
              <td>
                <form method="post" action="{% url 'delete_post' post.id %}">
                  {% csrf_token %}
                  <button class="btn btn-danger" type="submit">Delete</button>
                </form> 
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html> 



